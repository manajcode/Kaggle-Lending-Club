library(pacman)
p_load(tidyverse, tinytex, Amelia, knitr, DataExplorer, imputeMissings, corrplot)
LCTF10 <- readRDS(file = "./data/cleaneddata.rds" )
LCTF10 <- readRDS(file = "./cleaneddata.rds" )
LCTF10 <- LCTF10 %>% select(-id, -member_id)
table(LCTF10$loan_status)
table(is.na(LCTF10$loan_status))
str(LCTF10)
colnames(LCTF10)
unique(LCTF10$borrower_status)
table(LCTF10$loan_status)
table(is.na(LCTF10$loan_status))
table(is.na(LCTF10$borrower_status))
table(LCTF10$borrower_status)
table(is.na(LCTF10$borrower_status))
table(LCTF10$borrower_status)
table(is.na(LCTF10$borrower_status))
missmap(LCTF10)
sapply(LCTF10,function(x) sum(is.na(x)))
# create a function to determine which variables have
# less than or equal to 50% legit data:
d <- rep(0, ncol(LCTF10))
bad <- as.integer(rep(0, ncol(LCTF10)))
result<- as.character(rep(0, nrow(LCTF10)))
assess_bad_data<- function(df) {
d <<- (colSums(!is.na(LCTF10))/nrow(LCTF10))
bad <<- (which(d <=.50))
result <<- (colnames(LCTF10[bad]))
#return(result)
}
assess_bad_data(LCTF10)
length(result)
bad
d[result]
missmap(LCTF10[result])
LCTF10 <- LCTF10[-(bad)]
missmap(LCTF10)
